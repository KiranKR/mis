<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/BMAZBaseTemplate.xhtml">

	<ui:define name="body">
		<h:form id="form">
			<div id="product_list">
				<!--[if !IE]>start table_wrapper<![endif]-->
				<div class="table_wrapper">
					<div class="table_wrapper_inner">
						<div class="title_wrapper">
							<h2>Revenue</h2>
							<span class="title_wrapper_left"></span> <span
								class="title_wrapper_right"></span>
						</div>
						<div class="error">
							<div class="error_inner">
								<span><p:messages id="msg"/>
								</span>
							</div>
						</div>
						<table width="100%">
							<tr>
								<td class="box text">Section</td>
								<td><p:selectOneMenu value="#{pc_revenue.revenueBean.sectionId}" tabindex="1">
									<p:ajax event="change" listener="#{pc_revenue.disableSaveButton}" update="save,msg"/>
										<f:selectItems value="#{pc_revenue.secList}" />
									</p:selectOneMenu>
								</td>
								<td class="box text">Month</td>
								<td><p:selectOneMenu value="#{pc_revenue.revenueBean.monthId}" tabindex="2">
									<p:ajax event="change" listener="#{pc_revenue.disableSaveButton}" update="save,msg"/>
										<f:selectItem itemLabel="---None---" itemValue="0"/>
										<f:selectItems value="#{pc_revenue.enumMonths}" />
									</p:selectOneMenu></td>
								<td class="box text">Year</td>
								<td><p:selectOneMenu value="#{pc_revenue.revenueBean.yearId}" tabindex="3">
									<p:ajax event="change" listener="#{pc_revenue.disableSaveButton}" update="save,msg"/>
								  <f:selectItem itemLabel="---None---" itemValue="0"/>
								  <f:selectItem itemLabel="2012" itemValue="2012"/>
								  <f:selectItem itemLabel="2013" itemValue="2013"/>
								</p:selectOneMenu></td>
								
								<td  align="right" class="box text"><strong>
									<h:commandButton value="OK" action="#{pc_revenue.getOpenBal}" tabindex="4" styleClass="greenBtn" /> 
								</strong>
							</td>
							</tr>
							<c:if test="#{pc_revenue.dispTable == true}">
						  <tr>
						    <td  class="box text">Total No. Of Installation</td>
						    <td  class="box text"><p:inputText id="intall" value="#{pc_revenue.revenueBean.totalNoInstall}"  styleClass="right_input" tabindex="5"/> </td>
						    <td  class="box text">Input Energy</td>
						    <td  class="box text"><p:inputText value="#{pc_revenue.revenueBean.inputEnergy}"  styleClass="right_input" tabindex="6"/></td>
						    <td  class="box text">Energy Sold as per DCB</td>
						    <td  class="box text" colspan="2"><p:inputText value="#{pc_revenue.revenueBean.engSoldPerDCB}"  styleClass="right_input" tabindex="7"/></td>
						    
               			</tr>
               			<tr>
               				<td class="box text">Opening Balance</td>
               				<td class="box text" colspan="6" align="left">
               					<p:inputText id ="openBal" value="#{pc_revenue.revenueBean.openBal}"  styleClass="right_input" tabindex="8" disabled="#{pc_revenue.revenueBean.viewOlyOB}">
               						<p:ajax event="blur" listener="#{pc_revenue.setCloseBal}" update="clsBal"/>
               						<f:convertNumber for="openBal" pattern="##,####,##0.00"/>
               					</p:inputText>
               				</td>
               			</tr><tr>
               				<td class="box text">Demand</td>
               				<td class="box text"  colspan="6" align="left">
               					<p:inputText id = "demand" value="#{pc_revenue.revenueBean.demand}"  styleClass="right_input" tabindex="8" >
               						<p:ajax event="blur" listener="#{pc_revenue.setCloseBal}" update="clsBal"/>
               						<f:convertNumber for="demand" pattern="##,####,##0.00"/>
               					</p:inputText>
               				</td>
               			</tr><tr>
               				<td class="box text">Collection</td>
               				<td class="box text"  colspan="6" align="left">
               					<p:inputText id="collection" value="#{pc_revenue.revenueBean.collection}"  styleClass="right_input" tabindex="9" >
               						<p:ajax event="blur" listener="#{pc_revenue.setCloseBal}" update="clsBal"/>
               						<f:convertNumber for="collection" pattern="##,####,##0.00"/>
               					</p:inputText>
               				</td>
               			</tr><tr>
               				<td class="box text">Closing Balance</td>
               				<td class="box text"  colspan="6" align="left">
               					<p:inputText id ="clsBal" value="#{pc_revenue.revenueBean.closeBal}"  styleClass="right_input"  disabled="true">
               						<f:convertNumber for="clsBal" pattern="##,####,##0.00"/>
               					</p:inputText>
               				</td>
               			</tr>
               			
               			<tr>
						    <td  class="box text">Reason</td>
						    <td  class="box text" colspan="6" align="left"><p:inputTextarea  value="#{pc_revenue.revenueBean.reason}"   tabindex="10" cols="50" rows="5" autoResize="true"/> </td>
						    
						    
               			</tr>
               			
						  </c:if>
						 
						 
						<tr>
							<td  class="box text" ></td>
						    <td  class="box text" ></td>
							<td  class="box text"></td>
							<td  class="box text"></td>
							<td  class="box text"></td>
							<td  align="right" class="box text"><strong>
								<h:commandButton id="save" value="Save" action="#{pc_revenue.saveRevenue}" tabindex="11" styleClass="#{pc_revenue.btnCss}" disabled="#{pc_revenue.btnDisable}"/> 
								</strong>
							</td>
							<td class="box text">
								<h:commandButton value="Cancel" action="#{pc_revenue.okCancel}" tabindex="12" styleClass="greenBtn" />
							</td>
						</tr>
						
						
						</table>


					</div>
				</div>
			</div>

		</h:form>
<script type="text/javascript">
setTimeout(function focusIt()
{
  var mytext = document.getElementById("form:intall"); 
  mytext.focus(); 
  mytext.select();
}
, 1);
window.history.forward();
function noBack() { window.history.forward();}
</script>

	</ui:define>
</ui:composition>
