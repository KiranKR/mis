<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/BMAZBaseTemplate.xhtml">

	<ui:define name="body">
		<h:form id="form">
			<div id="product_list">
				<!--[if !IE]>start table_wrapper<![endif]-->
				<div class="table_wrapper">
					<div class="table_wrapper_inner">
						<div class="title_wrapper">
							<h2>Tariff DCB Detail Report</h2>
							<span class="title_wrapper_left"></span> <span
								class="title_wrapper_right"></span>
					    </div>
					    
					    
						<table width="100%">
						<tr> <p:messages></p:messages> </tr>
							<tr>
								<td class="box text">Section</td>
								<td><p:selectOneMenu id="secId" value="#{pc_tarifDCAReport.tarifDCABean.secId}" tabindex="1">
									<f:selectItems value="#{pc_tranformerReport.secList}"></f:selectItems>
									</p:selectOneMenu></td>
								
								<td class="box text" >Year</td>
								<td><p:selectOneMenu id="yearId" value="#{pc_tarifDCAReport.tarifDCABean.yearId}" tabindex="2">
								       <f:selectItem itemLabel="select" itemValue="0"/>
										<f:selectItem itemLabel="2012" itemValue="2012" />
										<f:selectItem itemLabel="2013" itemValue="2013" />
									</p:selectOneMenu>
								</td>
								
								<td align="right"><strong><h:commandButton value="OK" action="#{pc_tarifDCAReport.getTarifDetails}"  tabindex="3"
								     styleClass="greenBtn" /> </strong>
								 </td>
							</tr>
							</table>
							
							
							
							
							<table width="100%">
                            
									<thead>
										<tr>
											
											<th  class="ui-state-default" style="text-align:center">Month</th>
											<th  class="ui-state-default" style="text-align:center">TariffDCB</th>
											<th  class="ui-state-default" style="text-align:center">Demand</th>
											<th  class="ui-state-default" style="text-align:center">Consumption</th>
											<th  class="ui-state-default" style="text-align:center">ARR</th>
										</tr>
										
                                 </thead>
								<tbody>
	                                  <c:forEach items="#{pc_tarifDCAReport.trarifReportBeans}" var="tariffReport">							 
								        <tr> 
								        <td rowspan="#{tariffReport.size}"> <h:outputText value="#{tariffReport.monthId}" style="float: left;"/></td> 
										<c:forEach items="#{tariffReport.tarifDetailsBeans}" var="tariff">
										<tr>
										 
										 <td><h:outputText value="#{tariff.tarifName}" style="float: right;"></h:outputText></td>
										 <td><h:outputText value="#{tariff.demand}" style="float: right;"><f:convertNumber pattern="#,###,##0.00"/></h:outputText></td>
										<td><h:outputText value="#{tariff.consumption}" style="float: right;"><f:convertNumber pattern="#,###,##0.00"/></h:outputText></td>
										<td><h:outputText value="#{tariff.arr}" style="float: right;"><f:convertNumber pattern="#,###,##0.00"/></h:outputText></td>
										</tr>
										
										</c:forEach>
						             </tr>
						            
									</c:forEach>	
									 
                                </tbody>
									<tfoot>
                                      <tr>
										 
										 <td class="box text" colspan="2"><h:outputText value="Grand Total" style="float: right;"/></td>
										 <td><h:outputText value="#{pc_tarifDCAReport.ttlDemand}" style="float: right;"><f:convertNumber pattern="#,###,##0.00"/></h:outputText></td>
										<td><h:outputText value="#{pc_tarifDCAReport.ttlConsumption}" style="float: right;"><f:convertNumber pattern="#,###,##0.00"/></h:outputText></td>
										<td><h:outputText value="#{pc_tarifDCAReport.ttlArr}" style="float: right;"><f:convertNumber pattern="#,###,##0.00"/></h:outputText></td>
										</tr>									   
									</tfoot>
								</table>
					  
					</div>
				</div>
			</div>

		</h:form>


	</ui:define>
</ui:composition>
