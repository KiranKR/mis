<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/BMAZBaseTemplate.xhtml">

	<ui:define name="body" onload="noBack();"
		onpageshow="if (event.persisted) noBack();">

		<script type="text/javascript">
setTimeout(function focusIt()
{
  var mytext = document.getElementById("Successform:drLock"); 
  mytext.focus(); 
  mytext.select();
}
, 1);

window.history.forward();
function noBack() { window.history.forward();}
</script>

		<h:form id="Successform">
			<div class="title_wrapper">
				<h2>Door Lock</h2>
				<span class="title_wrapper_left"></span> <span
					class="title_wrapper_right"></span>
			</div>
			<div class="error">
				<div class="error_inner">
					<span><p:messages id="erMsg"/>
					</span>
				</div>
			</div>
			<div id="product_list">
				<!--[if !IE]>start table_wrapper<![endif]-->
				<div class="table_wrapper">
					<div class="table_wrapper_inner">
						<table width="100%">
							<tr align="center">
								<td class="box text" colspan="4"></td>
							</tr>

							<tr>
								<td class="box text">Section</td>
								<td><p:selectOneMenu value="#{pc_doorLock.doorLockBean.secId}" tabindex="1">
										<f:selectItems value="#{pc_doorLock.secList}" />
									<p:ajax listener="#{pc_doorLock.disableSaveButton}" update="saveBtn,erMsg"></p:ajax>	
									</p:selectOneMenu>
								</td>
								<td class="box text">Month</td>
								<td><p:selectOneMenu value="#{pc_doorLock.doorLockBean.monthId}" tabindex="2">
								<f:selectItem itemLabel="Select" itemValue="0"/>
										<f:selectItems value="#{pc_doorLock.enumMonths}" />
										<p:ajax listener="#{pc_doorLock.disableSaveButton}" update="saveBtn,erMsg"></p:ajax>	
									</p:selectOneMenu></td>
								<td class="box text">Year</td>
								<td><p:selectOneMenu value="#{pc_doorLock.doorLockBean.yearId}" tabindex="3">
								  <f:selectItem itemLabel="Select" itemValue="0"/>
								  <f:selectItem itemLabel="2012" itemValue="2012"/>
								  <f:selectItem itemLabel="2013" itemValue="2013"/>
								  <p:ajax listener="#{pc_doorLock.disableSaveButton}" update="saveBtn,erMsg"></p:ajax>	
								</p:selectOneMenu></td>
							 <td><h:commandButton action="#{pc_doorLock.getOpeningBalance}" value="OK" styleClass="greenBtn" tabindex="4"/> </td>	
							</tr>
					       <c:if test="#{pc_doorLock.displayValue==true}">
						   <tr>
						     <td colspan="2"></td>
						     <td colspan="2"><strong>B&#47;W 3 to 6 months</strong> </td>
						     <td colspan="3"><strong>G&#47;T 6 months</strong></td>
						     
						   </tr>
						   <tr>
						     <td class="box text" colspan="2">Door Lock Installations</td>
						     <td class="box text" colspan="2"> <p:inputText id="drLock" tabindex="5" styleClass="right_input"  value="#{pc_doorLock.doorLockBean.noOFDoorLock}"  />  </td>
						     <td class="box text" colspan="3"> <p:inputText tabindex="5" styleClass="right_input"  value="#{pc_doorLock.doorLockBean.gtSixNoOFDoorLock}" />  </td>
						  
						   </tr>
						   
						   <tr>
						     <td class="box text" colspan="2">Opening Balance[pending shifting]</td>
						     <td class="box text" colspan="2"> <p:inputText tabindex="6" disabled="#{pc_doorLock.doorLockBean.viewOlyOB}" styleClass="right_input" id="opBalance" value="#{pc_doorLock.doorLockBean.opBalance}" >
						     <p:ajax  event="blur" listener="#{pc_doorLock.closingBalance}"  update="clsBalance"></p:ajax>
						     </p:inputText>
						       </td>
						       <td class="box text" colspan="3"> <p:inputText tabindex="6" disabled="#{pc_doorLock.doorLockBean.viewOlyOB}" styleClass="right_input" id="gtSixOpBalance" value="#{pc_doorLock.doorLockBean.gtSixOpBalance}" >
						     <p:ajax  event="blur" listener="#{pc_doorLock.gtSixClosingBalance}"  update="gtSixClsBalance"></p:ajax>
						     </p:inputText>
						       </td>
						       
						   </tr>
						   <tr>
						     <td class="box text" colspan="2">No. of Notices Served</td>
						     <td class="box text" colspan="2"> <p:inputText tabindex="7" styleClass="right_input"  value="#{pc_doorLock.doorLockBean.noticeServed}" >
						      <p:ajax  event="blur" listener="#{pc_doorLock.closingBalance}"  update="clsBalance"></p:ajax>
						      </p:inputText>
						       </td>
						      <td class="box text" colspan="3"> <p:inputText tabindex="7" styleClass="right_input"  value="#{pc_doorLock.doorLockBean.gtSixNoticeServed}" >
						      <p:ajax  event="blur" listener="#{pc_doorLock.gtSixClosingBalance}"  update="gtSixClsBalance"></p:ajax>
						      </p:inputText>
						       </td>
						       
						   </tr>
						   
						   <tr>
						     <td class="box text" colspan="2">No. of Meters Shifted to Accessible Place</td>
						     <td class="box text" colspan="2"> <p:inputText tabindex="8" styleClass="right_input"  value="#{pc_doorLock.doorLockBean.metersShifted}" >
						     <p:ajax  event="blur" listener="#{pc_doorLock.closingBalance}"  update="clsBalance"></p:ajax>
                             </p:inputText>
                             </td>
                            <td class="box text" colspan="3"> <p:inputText tabindex="8" styleClass="right_input"  value="#{pc_doorLock.doorLockBean.gtSixMetersShifted}" >
						     <p:ajax  event="blur" listener="#{pc_doorLock.gtSixClosingBalance}"  update="gtSixClsBalance"></p:ajax>
                             </p:inputText>
                             </td>
                            
						   </tr>
						   
						    <tr>
						     <td class="box text" colspan="2">Not Possible to shift</td>
						     <td class="box text" colspan="2"> <p:inputText tabindex="9" styleClass="right_input" value="#{pc_doorLock.doorLockBean.notShift}" >
						     <p:ajax  event="blur" listener="#{pc_doorLock.closingBalance}"  update="clsBalance"></p:ajax>
						     </p:inputText>
						       </td>
						     <td class="box text" colspan="3"> <p:inputText tabindex="9" styleClass="right_input" value="#{pc_doorLock.doorLockBean.gtSixNotShift}" >
						     <p:ajax  event="blur" listener="#{pc_doorLock.gtSixClosingBalance}"  update="gtSixClsBalance"></p:ajax>
						     </p:inputText>
						       </td>
						       
						   </tr>
						   
						    <tr>
						     <td class="box text" colspan="2">Closing Balance</td>
						     <td class="box text" colspan="2"> <p:inputText  id="clsBalance" disabled="true" styleClass="right_input"  value="#{pc_doorLock.doorLockBean.cloBalance}"  />   </td>
						     <td class="box text" colspan="3"> <p:inputText  id="gtSixClsBalance" disabled="true" styleClass="right_input"  value="#{pc_doorLock.doorLockBean.gtSixCloBalance}"  />   </td>
						    
						   </tr>
						  
						   <tr>
						     <td class="box text"  colspan="2">Action taken for Meters not shifted.</td>
						     <td class="box text" colspan="5"> <p:inputTextarea tabindex="10" cols="50" rows="5" value="#{pc_doorLock.doorLockBean.actionTaken}" />
						           
						        </td>
						        
						   </tr>
						  </c:if>
						   
						   <tr>
								<td colspan="5"></td>
								
								<td class="box text" align="right"><strong>
									<h:commandButton id="saveBtn" value="Save" tabindex="11" action="#{pc_doorLock.saveDoorLock}"   styleClass="#{pc_doorLock.btnCss}" disabled="#{pc_doorLock.btnDisable}"/>
								</strong></td>
								<td class="box text">
									<h:commandButton value="Cancel" tabindex="12" action="#{pc_doorLock.cancel}"  styleClass="greenBtn" />
								</td>
								
							</tr>
                          
						   </table>



					</div>
				</div>
			</div>

		</h:form>


	</ui:define>
</ui:composition>
