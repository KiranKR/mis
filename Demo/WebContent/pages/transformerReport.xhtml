<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/BMAZBaseTemplate.xhtml">

	<ui:define name="body">
		<h:form id="form">
			<div id="product_list">
				<!--[if !IE]>start table_wrapper<![endif]-->
				<div class="table_wrapper">
					<div class="table_wrapper_inner">
						<div class="title_wrapper">
							<h2>Transformers Detail Report</h2>
							<span class="title_wrapper_left"></span> <span
								class="title_wrapper_right"></span>
						</div>


						<table width="100%">
							<tr>
								<p:messages></p:messages>
							</tr>
							<tr>
								<td class="box text">Section</td>
								<td><p:selectOneMenu id="secId" tabindex="1"
										value="#{pc_tranformerReport.transformerBean.secId}">
										<f:selectItems itemValue="0" value="#{pc_tranformerReport.secList}"></f:selectItems>
									</p:selectOneMenu></td>

								<td class="box text">Year</td>
								<td><p:selectOneMenu id="yearId" tabindex="2"
										value="#{pc_tranformerReport.transformerBean.yearId}">
										<f:selectItem itemLabel="select" itemValue="0" />
										<f:selectItem itemLabel="2012" itemValue="2012" />
										<f:selectItem itemLabel="2013" itemValue="2013" />
									</p:selectOneMenu>
								</td>
								<td class="box text">Urban/Rural</td>
								<td><p:selectOneMenu id="urId" tabindex="3"
										value="#{pc_tranformerReport.transformerBean.idenFlag}">
										<f:selectItem itemLabel="select" itemValue="0" />
										<f:selectItem itemLabel="Urban" itemValue="1" />
										<f:selectItem itemLabel="Rural" itemValue="2" />
										
									</p:selectOneMenu>
								</td>
								<td align="right"><strong><h:commandButton
											value="Ok"
											action="#{pc_tranformerReport.getTransformerDetails}"
											tabindex="4" styleClass="greenBtn" /> </strong>
								</td>
							</tr>
						</table>

						<table width="100%">
                            
									<thead>
										<tr>
											
											<th  class="ui-state-default">Month</th>
											<th  class="ui-state-default">Capacity Name</th>
											<th  class="ui-state-default">Addition Count</th>
											<th  class="ui-state-default">Failed Count</th>
											<th  class="ui-state-default">Replaced Count</th>
											<th  class="ui-state-default">Maintenance Count</th>
										</tr>
										
                                 </thead>
								<tbody>
	                                  <c:forEach items="#{pc_tranformerReport.transformerReportBeans}" var="transreport">							 
								        <tr> 
								        <td rowspan="#{transreport.size}"> <h:outputText value="#{transreport.monthId}" style="float: left;"/></td> 
										<c:forEach items="#{transreport.transformerDetailsBeans}" var="capacity">
										<tr>
										 
										 <td><h:outputText value="#{capacity.capName}" style="float: right;">></h:outputText></td>
										 <td><h:outputText value="#{capacity.additionCount}" style="float: right;">></h:outputText></td>
										<td><h:outputText value="#{capacity.failedCount}" style="float: right;">></h:outputText></td>
										<td><h:outputText value="#{capacity.replacedCount}" style="float: right;">></h:outputText></td>
										<td><h:outputText value="#{capacity.maintanceCount}" style="float: right;">></h:outputText></td>
										</tr>
										
										</c:forEach>
						             </tr>
						            
									</c:forEach>	
									 
                                </tbody>
									<tfoot>
									   <tr>
										 
										 <td class="box text" colspan="2"><h:outputText value="Grand Total" style="float: right;"/></td>
										 <td><h:outputText value="#{pc_tranformerReport.grTotAdd}" style="float: right;"></h:outputText></td>
										<td><h:outputText value="#{pc_tranformerReport.grTotFail}" style="float: right;"></h:outputText></td>
										<td><h:outputText value="#{pc_tranformerReport.grTotRepCnt}" style="float: right;"></h:outputText></td>
										<td><h:outputText value="#{pc_tranformerReport.grTotMainCnt}" style="float: right;"></h:outputText></td>
										</tr>
									</tfoot>
								</table>
                             
                             

						
					



					</div>
				</div>
			</div>

		</h:form>


	</ui:define>
</ui:composition>
