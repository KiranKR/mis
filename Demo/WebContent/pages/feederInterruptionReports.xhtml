<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/BMAZBaseTemplate.xhtml">

	<ui:define name="body">
		<h:form id="form">
			<div id="product_list">
				<!--[if !IE]>start table_wrapper<![endif]-->
				<div class="table_wrapper">
					<div class="table_wrapper_inner">
						<div class="title_wrapper">
							<h2>Feeder Interruption Detail Report</h2>
							<span class="title_wrapper_left"></span> <span
								class="title_wrapper_right"></span>
					    </div>



						<table width="100%">
						<tr>
								<p:messages/>
							</tr>
							<tr>
								<td class="box text">Section</td>
								<td><p:selectOneMenu id="secId"
										value="#{pc_FeederInterruptionReports.feederInterruptionBean.sectionId}" tabindex="1">
										<f:selectItems value="#{pc_FeederInterruptionReports.secList}"></f:selectItems>
									</p:selectOneMenu>
								</td>

								<td class="box text">Year</td>
								<td><p:selectOneMenu id="yearId"
										value="#{pc_FeederInterruptionReports.feederInterruptionBean.yearId}" tabindex="2">
										<f:selectItem itemLabel="select" itemValue="0" />
										<f:selectItem itemLabel="2012" itemValue="2012" />
										<f:selectItem itemLabel="2013" itemValue="2013" />
									</p:selectOneMenu></td>


								<td align="right"><strong><h:commandButton
											value="OK" action="#{pc_FeederInterruptionReports.FdrReport}"
											tabindex="3" styleClass="greenBtn" /> </strong></td>
							</tr>
							
							</table>
							<table width="100%">						
							<thead>
							   <tr>
							   <th  style="text-align: center" class="ui-state-default">Month</th>
							   <th  style="text-align: center" class="ui-state-default">Feeders</th>
							   <th  style="text-align: center" class="ui-state-default">No. of times Tripped</th>
							   <th  style="text-align: center" class="ui-state-default">Reason</th>
							  </tr>
							</thead>
							<tbody>
							<c:forEach items="#{pc_FeederInterruptionReports.fdiReports}" var="fdireport">
							<tr>
							 <td rowspan="#{fdireport.size+1}"><h:outputText value="#{fdireport.monthId}" style="float: left;"/></td>
							</tr>
							 <c:forEach items="#{fdireport.fedintrputionDetails}" var="feedList">
							 <tr>
							  <td ><h:outputText value="#{feedList.fedName}" /></td>
							  <td ><h:outputText value="#{feedList.fedCount}" style="float: right;" /></td>
							  <td ><h:outputText value="#{feedList.fedReason}" /></td>
							  </tr>
						
							 </c:forEach>
							
							
							
							
							</c:forEach>
							
							</tbody>
							<tfoot>
							<tr>
							<td><h:outputText value=""/></td>
							<td><strong><h:outputText value="Total" /></strong></td>
							<td><strong><h:outputText value="#{pc_FeederInterruptionReports.count}" style="float: right;" /></strong></td>
							<td><h:outputText value=""/></td>
							</tr>
							</tfoot>
						</table>
					</div>
				</div>
			</div>

		</h:form>


	</ui:define>
</ui:composition>
