<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/BMAZBaseTemplate.xhtml">

	<ui:define name="body">
	<script type="text/javascript">
setTimeout(function focusIt()
{
  var mytext = document.getElementById("form:adCnt0"); 
  mytext.focus(); 
  mytext.select();
}
, 1);
window.history.forward();
function noBack() { window.history.forward();}
</script>
		<h:form id="form">
			<div id="product_list">
				<!--[if !IE]>start table_wrapper<![endif]-->
				<div class="table_wrapper">
					<div class="table_wrapper_inner">
						<div class="title_wrapper">
							<h2>Transformers</h2>
							<span class="title_wrapper_left"></span> <span
								class="title_wrapper_right"></span>
						</div>
                        
						<table width="100%">
						<tr> <p:messages id="erMsg"/> </tr>
							<tr>
								<td class="box text">Section</td>
								<td><p:selectOneMenu value="#{pc_transformer.transformer.secId}" tabindex="1">
										<f:selectItems value="#{pc_transformer.secList}" />
									<p:ajax listener="#{pc_transformer.disableSaveButton}" update="saveBtn,erMsg"></p:ajax>	
									</p:selectOneMenu>
								</td>
								<td class="box text">Month</td>
								<td><p:selectOneMenu value="#{pc_transformer.transformer.monthId}" tabindex="2">
										<f:selectItem itemLabel="Select" itemValue="0"/>
										<f:selectItems value="#{pc_transformer.enumMonths}" />
										<p:ajax listener="#{pc_transformer.disableSaveButton}" update="saveBtn,erMsg"></p:ajax>
										</p:selectOneMenu></td>
								<td class="box text">Year</td>
								<td><p:selectOneMenu value="#{pc_transformer.transformer.yearId}" tabindex="3">
								  <f:selectItem itemLabel="Select" itemValue="0"/>
								  <f:selectItem itemLabel="2012" itemValue="2012"/>
								  <f:selectItem itemLabel="2013" itemValue="2013"/>
								  <p:ajax listener="#{pc_transformer.disableSaveButton}" update="saveBtn,erMsg"></p:ajax>
								</p:selectOneMenu></td>
						    <td><h:commandButton action="#{pc_transformer.getTansformerDetails}" value="OK" styleClass="greenBtn" tabindex="4"/> </td>		
							</tr>
                         
                           <c:if test="#{pc_transformer.displayList==true}">
                           <table>					
							<tr>
								<td align="right" class="box text">Capacity</td>
								<td align="right" class="box text">Urban/Rural</td>
								<td align="right" class="box text" style="text-align:center">Addition</td>
								<td align="right" class="box text" style="text-align:center">Failed</td>
								<td align="right" class="box text" style="text-align:center">Replaced</td>
								<td align="right" class="box text" style="text-align:center">Maintenance</td>
							</tr>
							<c:forEach var="capacityList" items="#{pc_transformer.transformer.capacities}" varStatus="capacity">
								<tr>
									<td class="box text">#{capacityList.capName}</td>
                                    <td>
										<table>
											<tr>
												<td>Urban</td>
											</tr>
                                            <tr>
												<td>Rural</td>
											</tr> 
										</table>
									</td>
									
									<td>
										<table>
											<tr>
												<td><h:inputText id="adCnt${capacity.index}" class="right_input" value="#{capacityList.additionCnt}" tabindex="5"/>
												</td>
											</tr>
											<tr>
												<td><h:inputText id="ruAdCnt${capacity.index}" class="right_input" value="#{capacityList.ruAdditionCnt}" tabindex="5"/>
												</td>
											</tr>
											

										</table>
									</td>
									<td>
										<table>
											<tr>
												<td><h:inputText class="right_input"  value="#{capacityList.failedCnt}" tabindex="6"/>
												</td>
											</tr>
											<tr>
												<td><h:inputText class="right_input"  value="#{capacityList.ruFailedCnt}" tabindex="6"/>
												</td>
											</tr>

										</table>
									</td>
									<td>
										<table>
											<tr>
												<td><h:inputText class="right_input"  value="#{capacityList.replacedCnt}" tabindex="7"/>
												</td>
											</tr>
											<tr>
												<td><h:inputText class="right_input"  value="#{capacityList.ruReplacedCnt}" tabindex="7"/>
												</td>
											</tr>

										</table>
									</td>
									<td>
										<table>
											<tr>
												<td><h:inputText class="right_input" value="#{capacityList.maintanenceCnt}" tabindex="8"/>
												</td>
											</tr>
											<tr>
												<td><h:inputText class="right_input" value="#{capacityList.ruMaintanenceCnt}" tabindex="8"/>
												</td>
											</tr>

										</table>
									</td>
								</tr>
							</c:forEach>
							</table>
							</c:if>
							
							<tr>
								<td colspan="4"></td>
									
								<td align="right"><strong><h:commandButton id="saveBtn"
											value="Save" action="#{pc_transformer.saveDetails}"
											tabindex="9" styleClass="#{pc_transformer.btnCss}" disabled="#{pc_transformer.btnDisable}" /> </strong></td>
								<td colspan="2"><h:commandButton value="Cancel"
										action="#{pc_transformer.cancel}" tabindex="10"
										styleClass="greenBtn" /></td>
							</tr>
							
							</table>
 
                  
                   </div>

					</div>
				</div>
			

		</h:form>


	</ui:define>
</ui:composition>
