<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/BMAZBaseTemplate.xhtml">

	<ui:define name="body" >
		<h:form id="form" >
			<div id="product_list">
				<!--[if !IE]>start table_wrapper<![endif]-->
				<div class="table_wrapper">
					<div class="table_wrapper_inner">
						<div class="title_wrapper">
							<h2>Zero Consumption Summary Report</h2>
							<span class="title_wrapper_left"></span> <span
								class="title_wrapper_right"></span>
						</div>


						<table width="100%">
							<tr>
								<p:messages></p:messages>
							</tr>
							<tr>
								<td  class="box text">From</td>
                                <td class="box text">Month</td>
                                <td><p:selectOneMenu value="#{pc_summarZeroConsumRep.zeroConsumBean.monthId}" tabindex="1" >
										<f:selectItem itemLabel="---None---" itemValue="0"/>
										<f:selectItems value="#{pc_summarZeroConsumRep.enumMonthlist}" />
									</p:selectOneMenu></td> 
								<td class="box text">Year</td>
								<td colspan="2"><p:selectOneMenu id="fromYearId" tabindex="2"
										value="#{pc_summarZeroConsumRep.zeroConsumBean.yearId}">
										<f:selectItem itemLabel="---None---" itemValue="0" />
										<f:selectItem itemLabel="2012" itemValue="2012" />
										<f:selectItem itemLabel="2013" itemValue="2013" />
									</p:selectOneMenu>
								</td>
								
								</tr>
								<tr>
								<td  class="box text">To</td>
                                <td class="box text">Month</td>
                                <td><p:selectOneMenu value="#{pc_summarZeroConsumRep.zeroConsumBean.toMonthId}" tabindex="3">
										<f:selectItem itemLabel="---None---" itemValue="0"/>
										<f:selectItems value="#{pc_summarZeroConsumRep.enumMonthlist}" />
									</p:selectOneMenu></td> 
								<td class="box text">Year</td>
								<td><p:selectOneMenu id="toYearId" tabindex="4"
										value="#{pc_summarZeroConsumRep.zeroConsumBean.toYear}">
										<f:selectItem itemLabel="---None---" itemValue="0" />
										<f:selectItem itemLabel="2012" itemValue="2012" />
										<f:selectItem itemLabel="2013" itemValue="2013" />
									</p:selectOneMenu>
								</td>
								
								
								<td align="right" colspan="2"><strong>
									<h:commandButton value="Ok"	action="#{pc_summarZeroConsumRep.getZeroConsum}" tabindex="5" styleClass="greenBtn" >
									</h:commandButton> 
								</strong>
								</td>
							</tr>
							<c:if test="#{pc_summarZeroConsumRep.backbtn}">
							  
								<tr>
									<td colspan="7">
										<p:breadCrumb styleClass="box text" style="height:20px">
											<p:menuitem url="./home.jsf"></p:menuitem>
												<c:forEach items="#{pc_summarZeroConsumRep.breadCrumb}" var="path">
													<p:menuitem value="#{path.name}"  action="#{pc_summarZeroConsumRep.back(path.lvl,path.id,path.slno)}" update="form" />
												</c:forEach>
										</p:breadCrumb>
									</td>
								</tr>
							</c:if>
						</table>
								<table width="100%">
									<thead>
										<tr>
											
											<th  class="ui-state-default"><h:outputText value="&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;#{pc_summarZeroConsumRep.header}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"/></th>
											<th  class="ui-state-default">No. of Inspection done</th>
											<th  class="ui-state-default">Discrepancy</th>
											<th  class="ui-state-default">No. of Zero Consumption</th>
											<th  class="ui-state-default">Demand Raised</th>
										</tr>
										
                                	 </thead>
									<tbody>
										<c:forEach items="#{pc_summarZeroConsumRep.dispLstZCbean}" var="zc">
											<tr>
											 	<td rowspan="#{zc.rowSpanSize}"><h:commandLink value="#{zc.groupNmeString}" action="#{pc_summarZeroConsumRep.drillDown(zc.role,zc.idNxt,zc.groupNmeString,zc.idCurrent)}"/></td>
												<td rowspan="#{zc.rowSpanSize}"><h:outputText value="#{zc.noInspection}" style="float: right;"></h:outputText></td>
											 	<c:forEach items="#{zc.list}" var="dicrep">
													 <tr>
														<td><h:outputText value="#{dicrep.discrepancyNme}" style="float: right;">></h:outputText></td>
														<td><h:outputText value="#{dicrep.noOfZeroConsum}" style="float: right;">></h:outputText></td>
														<td><h:outputText value="#{dicrep.demandRasied}" style="float: right;">></h:outputText></td>
													</tr>
												</c:forEach>
											</tr>
										</c:forEach>
                                	</tbody>
									<tfoot></tfoot>
								</table>

					</div>
				</div>
			</div>

		</h:form>


	</ui:define>
</ui:composition>
